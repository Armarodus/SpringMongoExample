<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: head"></head>
<body>

	<div id="wrapper">
<nav th:replace="layout :: sidebar"></nav>
		<div id="page-wrapper">
			<div class="row">
				<div class="col-sm-12">
					<h3 class="page-header">Add book</h3>
				</div>
				<!-- /.col-sm-12 -->
			</div>
			<!-- /.row -->

			<div class="row">
				<div class="col-sm-12">
					<div class="panel panel-primary">
						
						<!-- /.panel-heading -->
						<div class="panel-body">
							<form th:action="@{/book/save}" th:object="${book}" method="POST">
								<input type="hidden" th:field="*{id}" />
								<div class="form-group">
									<label>Book name <span class="required">*</span></label> <input
										type="text" class="form-control" th:field="*{name}"
										th:errorclass="field-error" /> <span
										th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
										class="error"></span>
								</div>
								<div class="form-group">
									<label>Book author<span class="required">*</span></label> <input
										th:field="*{author}" th:errorclass="field-error"
										id="description" class="form-control"> <span
										th:if="${#fields.hasErrors('author')}" th:errors="*{author}"
										class="error"></span>
								</div>
								<div class="form-group">
								<label>Publishing house<span class="required">*</span></label>
									<select class="form-control" th:field="*{ph_id}">
										<option th:each="ph : ${phouses}" th:value="${ph.id}"
											th:text="${ph.name}"></option>
									</select>
								</div>
								<div class="form-group">
									<label>Price <span class="required">*</span></label> <input
										type="number" th:field="*{price}" th:errorclass="field-error"
										class="form-control" min="0" max="1000000" /> <span
										th:if="${#fields.hasErrors('price')}" th:errors="*{price}"
										class="error"></span>
								</div>
								<button type="submit" name="action" value="save"
									class="btn btn-primary">
									<i class="fa fa-save"></i> Save
								</button>
								<button type="submit" name="action" value="edit" th:if="${id != null}"
									class="btn btn-warning">
									<i class="fa fa-edit"></i> Edit
								</button>
							</form>
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
				</div>
				<!-- /.col-sm-12 -->
			</div>
			<!-- /.row -->
		</div>
		<!-- /#page-wrapper -->

	</div>

</body>
</html>