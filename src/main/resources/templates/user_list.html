<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: head"></head>
<body>
	<div id="wrapper">
		<nav th:replace="layout :: sidebar"></nav>
		<div id="page-wrapper">
			<div class="row">
				<div class="col-sm-12">
					<h3 class="page-header">Users</h3>
				</div>
				<!-- /.col-sm-12 -->
			</div>
			<!-- /.row -->

			<div class="row">
				<div class="col-sm-12">
					<div th:if="${success}"
						class="row alert alert-success alert-dismissible">
						<button type="button" class="close" data-dismiss="alert">
							<span>&times;</span>
						</button>
						<span th:text="${success}"></span>
					</div>

					<div class="panel panel-primary">
						
						<!-- /.panel-heading -->
						<div class="panel-body">
							<h4 th:if="${#lists.isEmpty(users)}">No users in list</h4>

							<table th:unless="${#lists.isEmpty(users)}" style="width: 100%"
								class="table table-striped table-bordered"
								id="dataTables-example">
								<thead>

									<tr>
										<th width="10%">Id</th>
										<th width="40%">Name</th>
										<th width="40%">Surname</th>
										<th width="10%">Info</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="user : ${users}">
										<td th:text="${user.id}"></td>
										<td th:text="${user.name}"></td>
										<td th:text="${user.lastName}"></td>
										<td>
											<div class="dropdown">
												<button class="btn btn-danger btn-sm dropdown-toggle"
													data-toggle="dropdown">
													Edit <span class="caret"></span>
												</button>
												<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
													<li><a class="dropdown-item"
														th:href="@{/user/{id}/orders(id=${user.id})}"> Orders
													</a></li>
													<li><a class="dropdown-item"
														th:href="@{/user/{id}/edit(id=${user.id})}"> Edit </a></li>
													<li><a class="dropdown-item"
														th:href="@{/user/{id}/delete(id=${user.id})}"
														th:attr="onclick='return confirm(\'Are you sure that you want delete?\');'">
															Delete </a></li>
												</ul>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
							<!-- /.table-responsive -->
						</div>
						<!-- /.panel-body -->
					</div>
					<!-- /.panel -->
				</div>
				<!-- /.col-sm-12 -->
			</div>
			<!-- /.row -->

		</div>
		<!-- /#page-wrapper -->

	</div>
	<script>
	<!-- Page-Level Demo Scripts - Tables - Use for reference -->
		$(document).ready(function() {
			$('#dataTables-example').DataTable();
		});
	</script>


</body>
</html>